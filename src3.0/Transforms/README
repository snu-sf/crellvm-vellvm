**************************************************************************
The file shows the mapping between the definitions and lemmas in the POPL13
submission and the Coq developement.

Section 2.

  Definition 1
  1.1 s_genInitState in Vellvm/opsem.v
  1.2 s_isFinialState in Vellvm/opsem.v
  1.3 s_converges in Vellvm/opsem.v
  1.4 s_diverges in Vellvm/opsem.v
  1.5 s_goeswrong in Vellvm/opsem.v
  1.6 defined_program in Vellvm/program_sim.v
  1.7 program_sim in Vellvm/program_sim.v 

Section 3.1

  Syntax: Vminus/syntax.ott
  Dynamic semantics: Vminus/opsem.v
  Static semantics: Vminus/typings.ott

  Definition 2
  2.1 used_in_value in Vminus/removal.v
  2.2 used_in_insn in Vminus/removal.v
  2.3 getBlocksLocs in Vminus/infrastructure.v
  2.4 blockDominates, blockStrictDominates in Vminus/analysis.v
  2.5 idDominates in Vminus/analysis.v 
  2.6 inscope_of_cmd, inscope_of_tmn in Vminus/analysis.v  

  Lemma 1.
  1.1 dom_tran, sdom_tran in Vminus/typings_props.v
  1.2 idDominates_inscope_of_cmd__inscope_of_cmd,
      idDominates_inscope_of_tmn__inscope_of_tmn in Vminus/typings_props.v
   
  Lemma 2. dom_acyclic in Vminus/typings_props.v

  Lemma 3.
  3.1 inscope_of_cmd_tmn, inscope_of_cmd_cmd in Vminus/analysis.v  
  3.2 inscope_of_tmn__inscope_of_cmd_at_beginning in Vminus/analysis.v 

Section 3.2

  Lemma 4. OpsemPP.safety in Vminus/opsem_wf.v

  Lemma 5. OpsemPP.s_genInitState__wf_EC in Vminus/opsem_wf.v

  Lemma 6. OpsemPP.preservation in Vminus/opsem_wf.v
  
  Lemma 7. OpsemPP.progress in Vminus/opsem_wf.v

  Vellvm/opsem_wf.v proves Lemma 4 in the full Vellvm.

Section 3.3

  Lemma 8. OpsemDom.preservation in Vminus/opsem_wf.v

  Vellvm/opsem_dom.v proves Lemma 8 in the full Vellvm.
  
Section 3.4

  Vminus/removal.v verifies the correctness of instruction deletion.
  Vminus/subst.v verifies the correctness of substituting a constant for a variable.
  Vminus/vsubst.v verifies the correctness of substituting one variable for another one.
  Vminus/motion.v verifies the correctness of code motion.
  Vminus/renaming.v verifies the correctness of variable renaming.
  Vminus/insert.v verifies the correctness of instruction insertion. 

  Lemma 9. 
  1. TransWF.pres_blockDominates in Vminus/trans.v
  2. subst_insnDominates in Vminus/subst.v

  Lemma 10. isubst_wf_fdef in Vminus/vsubst.v

  Lemma 11.
  1. getOperandValue_inCmdOps_sim, getOperandValue_inTmnOperans_sim 
     in Vminus/vsubst.v
  2. switchToNewBasicBlock_sim in Vminus/vsubst.v

  Lemma 12. backsimulation in Vminus/vsubst.v

Section 4.

  The syntax of Vellvm: Vellvm/syntax_base.ott
  The typing rules of Vellvm: Vellvm/typing_rules.ott
  The operational semantics of Vellvm: Vellvm/opsem.v

Section 4.2

  The algorithm of vmem2reg: Transforms/vmem2reg.v

Section 5.1
  Lemma 13. find_promotable_alloca__WF_PhiInfo in Transforms/palloca_props.v

  Lemma 14. phinodes_placement_wfPI in Transforms/phiplacement_bsim_wfS.v

  Lemma 15.
  1. subst_wfPI in Transforms/subst.v
  2. filter_wfPI in Transforms/filter.v

  Lemma 16.
  las_die_wfPI in Transforms/las_wfS.v
  laa_die_wfPI in Transforms/laa_wfS.v
  sas_wfPI in Transforms/sas_wfS.v
  dse_wfPI in Transforms/dse_wfS.v

Section 5.2

  Lemma 17. TopWFS.trans_wfS in Transforms/top_wfS.v

  Lemma 18. phinodes_placement_wfS in Transforms/phiplacement_bsim_wfS.v

  Lemma 19. 
  1. subst_wfS in Transforms/subst.v
  2. filter_wfS in Transforms/filter.v

  Lemma 20. subst_fdef__diinfo in Transforms/die_wfS.v

  Lemma 21.
  las_die_wfS in Transforms/las_wfS.v
  laa_die_wfS in Transforms/laa_wfS.v
  sas_wfS in Transforms/sas_wfS.v
  dse_wfS in Transforms/dse_wfS.v
  dae_wfS in Transforms/dae_wfS.v
  elimphi_sim_wfS in Transforms/phielim_top.v

  assigned_phi__domination proves the interesting case mentioned in Lemma 23.

Section 5.3

  Lemma 22.
    Promotability.s_genInitState__wf_globals_promotable,
    Promotability.preservation_star in Transforms/promotable_props.v

  Lemma 23. phinodes_placement_sim in Transforms/phiplacement_bsim_top.v

  Lemma 24. 
  1. las__alive_store in Transforms/las.v 
  2. s_genInitState__alive_store, reservation_star in Transforms/alove_store.v

  Lemma 25. die_sim in Transforms/die_top.v

  Lemma 26. las_die_sim_wfS in Transforms/las_top.v

  laa_die_sim_wfS in Transforms/laa_top.v proves that LAA preserves semantics.

  Lemma 27. PEInfo__vev in Transforms/phisubst.inv.v

  elimphi_sim_wfS in Transforms/phielim_top.v proves that phi-node elimination 
  preserves semantics.

Section 5.4
 
  Lemma 28. mem2reg_run_sim_wfS in vmem2reg_correct.v

**************************************************************************
Contents

* Program refinement
  Vellvm/program_sim.v
* Primitive and pipelined transformations
  Transforms/primitives.v
  Transforms/pass_combinators.v
  Transforms/iter_pass_correct.v 
  Transforms/iter_pass.v
* vmem2reg
  Transforms/vmem2reg.v
* Memory properties
  Vellvm/memory_props.v 
* Promotability
  Transforms/palloca_props.v
  Transforms/promotable_props.v
* Correctness of substitution
  Transforms/subst.v
  Transforms/subst_inv.v
  Transforms/subst_sim.v  
* Correctness of code deletion
  Transforms/filter.v 
  Transforms/die.v 
  Transforms/die_wfS.v
  Transforms/die_top.v  
* Top-level proof framework
  Transforms/top_sim.v 
  Transforms/top_wfS.v
* Phinode placement
  Transforms/phiplacement_bsim_defs.v 
  Transforms/phiplacement_bsim.v 
  Transforms/phiplacement_bsim_wfS.v
  Transforms/phiplacement_bsim_top.v
* LAS
  Transforms/alive_store.v 
  Transforms/las.v 
  Transforms/las_wfS.v 
  Transforms/las_top.v  
* LAA
  Transforms/alive_alloca.v  
  Transforms/laa.v
  Transforms/laa_wfS.v 
  Transforms/laa_top.v
* SAS
  Transforms/sas.v  
  Transforms/sas_msim.v 
  Transforms/sas_wfS.v
  Transforms/sas_top.v 
* DSE
  Transforms/dse.v
  Transforms/dse_wfS.v  
  Transforms/dse_top.v
* DAE
  Transforms/dae_defs.v 
  Transforms/dae.v 
  Transforms/dae_wfS.v  
  Transforms/dae_top.v 
* Phinode elimination
  Transforms/phielim_spec.v  
  Transforms/phisubst_inv.v 
  Transforms/phielim_top.v 
* Correctness of vmem2reg
  Transforms/vmem2reg_correct.v
* Tactics
  Transforms/trans_tactic.v

